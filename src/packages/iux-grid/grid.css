@import '../iux-base/base';

/**
NOTE: lost grid doesn't accept variables inside of its "lost-column"
property, so we had to take the values from the following variablse
and hard-code them:
var(--grid-gutter-sm) = 10px
var(--grid-gutter-lg) = 20px
*/

@lost flexbox flex;
@lost gutter 0;

.iux-row,
.iux-row--gutter {
  lost-center: 100%;
}

/* Non-responsive columns */
@for $i from 1 to 12 {
  .iux-row .iux-row--col-$i {
    lost-column: $(i)/12 0 0;
  }
}

/* Non-responsive offsets (only need 11) */
@for $i from 1 to 11 {
  .iux-row .iux-row--offset-$i {
    lost-offset: $(i)/12;
  }
}

/* Non-responsive columns with normal gutters */
@for $i from 1 to 12 {
  .iux-row--gutter .iux-row--col-$i {
    lost-column: $(i)/12 0 10px;
  }
}

/* Non-responsive columns with larger gutters */
@media (--viewport-md) {
  @for $i from 1 to 12 {
    .iux-row--gutter .iux-row--col-$i {
      lost-column: $(i)/12 0 20px;
    }
  }
}

/*
Make all responsive columns default to full width
and then they can are manipulated using the
classes generated by the media queries below.
*/
@for $i from 1 to 12 {
  .iux-row--col-sm-$i,
  .iux-row--col-md-$i,
  .iux-row--col-lg-$i,
  .iux-row--col-xl-$i {
    lost-column: 1;
  }
}

/*
The media queries set when the columns will go from single stack
to a grid row and include gutter increases for the larger breakponts.
*/

/* Apply to cols from media "small" and larger */
@media (--viewport-sm) {
  @for $i from 1 to 12 {
    .iux-row .iux-row--col-sm-$i {
      lost-column: $(i)/12;
    }

    .iux-row .iux-row--offset-sm-$i {
      lost-offset: 1/$(i);
    }

    .iux-row--gutter .iux-row--col-sm-$i {
      lost-column: $(i)/12 0 10px;
    }
  }
}

/* Apply to cols from media "medium" and larger */
@media (--viewport-md) {
  @for $i from 1 to 12 {
    .iux-row .iux-row--col-md-$i {
      lost-column: $(i)/12;
    }

    .iux-row .iux-row--offset-md-$i {
      lost-offset: 1/$(i);
    }

    /* Update the "sm" columns to use the "large" gutter
    size for media "medium" and higher. Also make sure this
    rule comes before the "md" one below it for cascading
    resons. */
    .iux-row--gutter .iux-row--col-sm-$i {
      lost-column: $(i)/12 0 20px;
    }

    .iux-row--gutter .iux-row--col-md-$i {
      lost-column: $(i)/12 0 20px;
    }
  }
}

/* Apply to cols from media "large" and larger */
@media (--viewport-lg) {
  @for $i from 1 to 12 {
    .iux-row .iux-row--col-lg-$i {
      lost-column: $(i)/12;
    }

    .iux-row .iux-row--offset-lg-$i {
      lost-offset: 1/$(i);
    }

    .iux-row--gutter .iux-row--col-lg-$i {
      lost-column: $(i)/12 0 20px;
    }
  }
}

/* Apply to cols from media x-large and larger */
@media (--viewport-xl) {
  @for $i from 1 to 12 {
    .iux-row .iux-row--col-xl-$i {
      lost-column: $(i)/12;
    }

    .iux-row .iux-row--offset-xl-$i {
      lost-offset: 1/$(i);
    }

    .iux-row--gutter .iux-row--col-xl-$i {
      lost-column: $(i)/12 0 20px;
    }
  }
}
